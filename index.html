<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>朋友圈文字消失术</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-你的ID" crossorigin="anonymous"></script>
<style>
body{margin:0;background:#f5f5f5;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;text-align:center}
textarea{width:90%;max-width:400px;height:60px;margin:20px 0 10px;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:6px}
button{padding:10px 30px;font-size:16px;border:none;border-radius:6px;background:#ff4757;color:#fff;cursor:pointer}
button:active{transform:scale(.96)}
#ad{margin:20px auto;width:300px;height:250px}
</style>
</head>
<body>

<textarea id="txt" placeholder="输入你想让朋友长按消失的文字…"></textarea><br>
<button onclick="gen()">立即生成</button>

<!-- 广告 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-你的ID" data-ad-slot="你的slot"></ins>

<input type="file" id="bgUpload" accept="image/*" style="margin-top:15px">
<p style="color:#666;font-size:12px">可上传自定义底图（白色背景效果最佳）</p>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
/* 默认底图列表 */
const bgList = ['assets/bg1.png','assets/bg2.png','assets/bg3.png','assets/bg4.png','assets/bg5.png'];
let currentBg = bgList[Math.floor(Math.random()*bgList.length)];

document.getElementById('bgUpload').addEventListener('change', e=>{
    const file=e.target.files[0];
    if(file && file.type.startsWith('image/')){
        currentBg = URL.createObjectURL(file);
    }
});

function gen(){
    const text=document.getElementById('txt').value || '你什么都没写';
    const wrap=document.createElement('div');
    Object.assign(wrap.style,{
        width:'1080px',height:'1080px',position:'relative',
        background:`#fff url(${currentBg}) center/cover no-repeat`,
        display:'flex','align-items':'center','justify-content':'center',
        fontSize:'80px',color:'#ffffff',padding:'60px',textAlign:'center',
        wordBreak:'break-all',fontWeight:'bold',textShadow:'0 0 8px rgba(0,0,0,.3)'
    });
    wrap.innerText=text;
    document.body.appendChild(wrap);
    html2canvas(wrap,{backgroundColor:null}).then(canvas=>{
        const a=document.createElement('a');
        a.href=canvas.toDataURL('image/png');
        a.download='消失文字.png';
        a.click();
        document.body.removeChild(wrap);
    });
}
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!-- 打赏 -->
<div style="margin:30px 0">
<img src="assets/qr.png" width="150"><br>
<span style="font-size:12px;color:#999">打赏一杯美式，继续做奇怪的小工具</span>
</div>
</body>
</html>

